---
description: How to use the Momentic SDK.
---

import { Callout } from "nextra/components";

# Node.js SDK

<Callout emoji="⚠️">
  The SDK is currently in beta. Please report any issues you find in our
  [Discord](https://momentic.ai/discord)!
</Callout>

The [Momentic SDK](https://github.com/momentic-ai/sdk) is a [NPM package](https://www.npmjs.com/package/momentic) that allows you to easily integrate Momentic's AI into your application and workflows.

## CLI Usage

Make sure to generate an API key in the Momentic app first. You can pass it as a parameter to the CLI or set it as an environment variable `MOMENTIC_API_KEY`. For help run `npx momentic@latest --help`.

### Commands

These are the available commands:

```bash
npx momentic@latest install-browsers

npx momentic@latest run-tests
```

These are the available options for `run-test`:

```
Options:
  --tests <tests...>           specify tests to run
  --api-key <key>              API key for authenticating (env: MOMENTIC_API_KEY)
  --server <server>            Momentic server to use (default: "https://api.momentic.ai")
  --remote                     run tests remotely (default: true)
  --local                      run tests locally
  --start <command>            specify start command
  --wait-on <url>              specify URL to wait on
  --wait-on-timeout <timeout>  specify how long to wait on url (default: one minute)
```

### Running tests remotely

This is similar to running tests via webhook. The CLI will queue the tests to be run.

```bash
npx momentic@latest run-tests --remote --tests c2c2fee4-4778-4bbb-8f0c-31f25f774726 5fed69c1-1a9b-47d1-8d10-afc0c587d8dd
```

### Running tests locally or in CI

This will automatically start a local web server and run the tests against it. It will replace the base URL of the tests with the local web server URL.

```bash
npx momentic@latest run-tests --local --start "npm run start" --wait-on http://localhost:3000 --tests c2c2fee4-4778-4bbb-8f0c-31f25f774726
```

### GitHub Actions example

This is an example of how to run tests in GitHub Actions. Make sure to set the `MOMENTIC_API_KEY` secret in your repository settings.

```yaml
name: Test

env:
  MOMENTIC_API_KEY: ${{ secrets.MOMENTIC_API_KEY }}

on:
  push:
    branches:
      - main
  pull_request:

jobs:
  run-tests:
    name: Run tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
      - run: npm install

        # make sure to install browsers first before running tests locally (not required for remote tests)
      - run: npx momentic@latest install-browsers

        # run tests locally
      - run: npx momentic@latest run-tests --local --start "npm run start" --wait-on http://localhost:3000 --tests c2c2fee4-4778-4bbb-8f0c-31f25f774726

        # run tests remotely
      - run: npx momentic@latest run-tests --remote --tests c2c2fee4-4778-4bbb-8f0c-31f25f774726
```
